<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.ColumnConstraints?>

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="clinicaveterinaria.meupetemdia.controller.CadastroPetsController"
            styleClass="root-container"
            prefHeight="768.0"
            prefWidth="1024.0">

    <!-- ========== BARRA SUPERIOR (HEADER) ========== -->
    <top>
        <HBox fx:id="hboxHeader" styleClass="header-bar" alignment="CENTER">
            <padding>
                <Insets top="15" right="30" bottom="15" left="30" />
            </padding>

            <!-- BotÃ£o Voltar -->
            <Button fx:id="btnVoltar" text="â† Voltar" styleClass="secondary-button"
                    onAction="#handleVoltar">
                <HBox.margin>
                    <Insets right="20" />
                </HBox.margin>
            </Button>

            <!-- TÃ­tulo -->
            <Label fx:id="lblTitulo" text="Cadastro de Pets" styleClass="app-title">
                <HBox.hgrow>ALWAYS</HBox.hgrow>
            </Label>
        </HBox>
    </top>

    <!-- ========== CONTEÃšDO CENTRAL ========== -->
    <center>
        <VBox fx:id="vboxPrincipal" spacing="25">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30" />
            </padding>

            <!-- ========== SEÃ‡ÃƒO 1: FORMULÃRIO ========== -->
            <VBox fx:id="vboxFormulario" styleClass="card" spacing="15" maxWidth="800" alignment="TOP_CENTER">
                <padding>
                    <Insets top="25" right="30" bottom="25" left="30" />
                </padding>

                <!-- SubtÃ­tulo do FormulÃ¡rio -->
                <Label fx:id="lblSubtituloForm" text="Dados do Pet" styleClass="section-title" />

                <!-- Grid de Campos -->
                <GridPane hgap="15" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints minWidth="120" prefWidth="120" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <!-- LINHA 1: NOME -->
                    <Label text="Nome do Pet:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <TextField fx:id="txtNome" promptText="Digite o nome do pet"
                                   styleClass="text-field" />
                        <Label fx:id="lblErroNome" styleClass="error-label"
                               visible="false" managed="false" />
                    </VBox>

                    <!-- LINHA 2: ESPÃ‰CIE -->
                    <Label text="EspÃ©cie:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <ComboBox fx:id="cmbEspecie" promptText="Selecione a espÃ©cie"
                                  styleClass="combo-box" maxWidth="Infinity" />
                        <Label fx:id="lblErroEspecie" styleClass="error-label"
                               visible="false" managed="false" />
                    </VBox>

                    <!-- LINHA 3: RAÃ‡A -->
                    <Label text="RaÃ§a:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="2">
                        <TextField fx:id="txtRaca" promptText="Digite a raÃ§a (opcional)"
                                   styleClass="text-field" />
                    </VBox>

                    <!-- LINHA 4: DATA DE NASCIMENTO -->
                    <Label text="Data Nascimento:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <DatePicker fx:id="dtpDataNascimento" promptText="Selecione a data"
                                    styleClass="date-picker" maxWidth="Infinity" />
                        <Label fx:id="lblErroData" styleClass="error-label"
                               visible="false" managed="false" />
                    </VBox>

                    <!-- LINHA 5: DONO -->
                    <Label text="ProprietÃ¡rio:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="4" />
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="4">
                        <ComboBox fx:id="cmbDono" promptText="Selecione o dono"
                                  styleClass="combo-box" maxWidth="Infinity" />
                        <Label fx:id="lblErroDono" styleClass="error-label"
                               visible="false" managed="false" />
                    </VBox>
                </GridPane>

                <!-- BotÃµes do FormulÃ¡rio -->
                <HBox spacing="15" alignment="CENTER">
                    <VBox.margin>
                        <Insets top="10" />
                    </VBox.margin>

                    <Button fx:id="btnSalvar" text="Salvar" styleClass="primary-button"
                            onAction="#handleSalvar" />
                    <Button fx:id="btnLimpar" text="Limpar" styleClass="secondary-button"
                            onAction="#handleLimpar" />
                    <Button fx:id="btnCancelar" text="Cancelar" styleClass="cancel-button"
                            onAction="#handleCancelar" visible="false" managed="false" />
                </HBox>
            </VBox>

            <!-- ========== SEÃ‡ÃƒO 2: TABELA ========== -->
            <VBox spacing="12" VBox.vgrow="ALWAYS">

                <!-- CabeÃ§alho da Tabela -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="Pets Cadastrados" styleClass="section-title" />

                    <!-- Campo de Busca -->
                    <TextField fx:id="txtBuscar" promptText="ðŸ” Buscar pet..."
                               styleClass="text-field" prefWidth="300">
                        <HBox.hgrow>ALWAYS</HBox.hgrow>
                    </TextField>
                </HBox>

                <!-- Tabela -->
                <TableView fx:id="tblPets" styleClass="table-view" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colId" text="ID" prefWidth="60" />
                        <TableColumn fx:id="colNome" text="Nome" prefWidth="150" />
                        <TableColumn fx:id="colEspecie" text="EspÃ©cie" prefWidth="100" />
                        <TableColumn fx:id="colRaca" text="RaÃ§a" prefWidth="120" />
                        <TableColumn fx:id="colDataNascimento" text="Data Nasc." prefWidth="110" />
                        <TableColumn fx:id="colDono" text="ProprietÃ¡rio" prefWidth="200" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>

                <!-- BotÃµes da Tabela -->
                <HBox spacing="15" alignment="CENTER_LEFT">
                    <Button fx:id="btnEditar" text="Editar Selecionado" styleClass="secondary-button"
                            onAction="#handleEditar" disable="true" />
                    <Button fx:id="btnExcluir" text="Excluir Selecionado" styleClass="danger-button"
                            onAction="#handleExcluir" disable="true" />
                </HBox>
            </VBox>

        </VBox>
    </center>

</BorderPane>