<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="clinicaveterinaria.meupetemdia.controller.CadastroDonosController"
            styleClass="root-container"
            prefHeight="768.0"
            prefWidth="1024.0">

    <!-- ========== (HEADER) ========== -->
    <top>
        <HBox fx:id="hboxHeader" styleClass="header-bar" alignment="CENTER">
            <padding>
                <Insets top="15" right="30" bottom="15" left="30"/>
            </padding>

            <!-- BotÃ£o Voltar -->
            <Button fx:id="btnVoltar" text="â† Voltar" styleClass="secondary-button"
                    onAction="#handleVoltar">
                <HBox.margin>
                    <Insets right="20"/>
                </HBox.margin>
            </Button>

            <!-- TÃ­tulo -->
            <Label fx:id="lblTitulo" text="Cadastro de Donos" styleClass="app-title">
                <HBox.hgrow>ALWAYS</HBox.hgrow>
            </Label>
        </HBox>
    </top>

    <!-- ========== CONTEÃšDO CENTRAL ========== -->
    <center>
        <VBox fx:id="vboxPrincipal" spacing="25">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>

            <!-- ========== SEÃ‡ÃƒO 1: FORMULÃRIO ========== -->
            <VBox fx:id="vboxFormulario" styleClass="card" spacing="15" maxWidth="800" alignment="TOP_CENTER">
                <padding>
                    <Insets top="25" right="30" bottom="25" left="30"/>
                </padding>

                <!-- SubtÃ­tulo do FormulÃ¡rio -->
                <Label fx:id="lblSubtituloForm" text="Dados do ProprietÃ¡rio" styleClass="section-title"/>

                <!-- Grid de Campos -->
                <GridPane hgap="15" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints minWidth="120" prefWidth="120"/>
                        <ColumnConstraints hgrow="ALWAYS"/>
                    </columnConstraints>

                    <!-- LINHA 1: NOME -->
                    <Label text="Nome Completo:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="0">
                        <TextField fx:id="txtNome" promptText="Digite o nome completo do proprietÃ¡rio"
                                   styleClass="text-field"/>
                        <Label fx:id="lblErroNome" styleClass="error-label"
                               visible="false" managed="false"/>
                    </VBox>

                    <!-- LINHA 2: TELEFONE -->
                    <Label text="Telefone:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="1">
                        <TextField fx:id="txtTelefone" promptText="(00) 00000-0000"
                                   styleClass="text-field"/>
                        <Label fx:id="lblErroTelefone" styleClass="error-label"
                               visible="false" managed="false"/>
                    </VBox>

                    <!-- LINHA 3: E-MAIL -->
                    <Label text="E-mail:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="2">
                        <TextField fx:id="txtEmail" promptText="email@exemplo.com"
                                   styleClass="text-field"/>
                        <Label fx:id="lblErroEmail" styleClass="error-label"
                               visible="false" managed="false"/>
                    </VBox>

                    <!-- LINHA 4: ENDEREÃ‡O -->
                    <Label text="EndereÃ§o:" styleClass="form-label"
                           GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                    <VBox spacing="3" GridPane.columnIndex="1" GridPane.rowIndex="3">
                        <TextArea fx:id="txtEndereco" promptText="Rua, nÃºmero, bairro, cidade"
                                  styleClass="text-area" prefRowCount="3" wrapText="true"/>
                        <Label fx:id="lblErroEndereco" styleClass="error-label"
                               visible="false" managed="false"/>
                    </VBox>
                </GridPane>

                <!-- BotÃµes do FormulÃ¡rio -->
                <HBox fx:id="hboxBotoesForm" spacing="15" alignment="CENTER">
                    <VBox.margin>
                        <Insets top="10"/>
                    </VBox.margin>

                    <Button fx:id="btnSalvar" text="Salvar" styleClass="primary-button"
                            onAction="#handleSalvar"/>
                    <Button fx:id="btnLimpar" text="Limpar" styleClass="secondary-button"
                            onAction="#handleLimpar"/>
                    <Button fx:id="btnCancelar" text="Cancelar" styleClass="cancel-button"
                            onAction="#handleCancelar" visible="false" managed="false"/>
                </HBox>
            </VBox>

            <!-- ========== SEÃ‡ÃƒO 2: TABELA ========== -->
            <VBox fx:id="vboxTabela" spacing="12" VBox.vgrow="ALWAYS">

                <!-- CabeÃ§alho da Tabela -->
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label fx:id="lblSubtituloTabela" text="Donos Cadastrados"
                           styleClass="section-title"/>

                    <!-- Campo de Busca -->
                    <TextField fx:id="txtBuscar" promptText="ðŸ” Buscar dono..."
                               styleClass="text-field" prefWidth="300">
                        <HBox.hgrow>ALWAYS</HBox.hgrow>
                    </TextField>
                </HBox>

                <!-- Tabela -->
                <TableView fx:id="tblDonos" styleClass="table-view" VBox.vgrow="ALWAYS">
                    <columns>
                        <TableColumn fx:id="colId" text="ID" prefWidth="60"/>
                        <TableColumn fx:id="colNome" text="Nome" prefWidth="200"/>
                        <TableColumn fx:id="colTelefone" text="Telefone" prefWidth="140"/>
                        <TableColumn fx:id="colEmail" text="E-mail" prefWidth="200"/>
                        <TableColumn fx:id="colEndereco" text="EndereÃ§o" prefWidth="300"/>
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>

                <!-- BotÃµes da Tabela -->
                <HBox fx:id="hboxBotoesTabela" spacing="15" alignment="CENTER_LEFT">
                    <Button fx:id="btnEditar" text="Editar Selecionado" styleClass="secondary-button"
                            onAction="#handleEditar" disable="true"/>
                    <Button fx:id="btnExcluir" text="Excluir Selecionado" styleClass="danger-button"
                            onAction="#handleExcluir" disable="true"/>
                </HBox>
            </VBox>

        </VBox>
    </center>

</BorderPane>